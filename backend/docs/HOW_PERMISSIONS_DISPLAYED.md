# ğŸ“‹ CÃ¡ch CÃ¡c Quyá»n ÄÆ°á»£c PhÃ¢n Chia & Hiá»ƒn Thá»‹ TrÃªn UI

## ğŸ¯ Tá»•ng Quan

CÃ¡c quyá»n sáº½ Ä‘Æ°á»£c **phÃ¢n nhÃ³m theo Resource** (lÄ©nh vá»±c) vÃ  má»—i resource sáº½ hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c Action (hÃ nh Ä‘á»™ng).

---

## ğŸ“Š Cáº¥u TrÃºc PhÃ¢n Chia

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PERMISSION ADMIN PANEL                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ NgÆ°á»i dÃ¹ng: Nguyá»…n VÄƒn A                                    â”‚
â”‚ ID: 507f1f77bcf86cd799439011                               â”‚
â”‚ Vai trÃ²: [student] [staff]                                  â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ â–¼ ACTIVITY (Quáº£n lÃ½ hoáº¡t Ä‘á»™ng)              [3/8 quyá»n]   â”‚
â”‚   â”œâ”€ â˜‘ Xem hoáº¡t Ä‘á»™ng         [READ]  Via Role   âœ“         â”‚
â”‚   â”œâ”€ â˜‘ Táº¡o hoáº¡t Ä‘á»™ng        [CREATE] âœš Added   âœ“         â”‚
â”‚   â”œâ”€ â˜ Cáº­p nháº­t hoáº¡t Ä‘á»™ng   [UPDATE] âœ• Removed âœ—         â”‚
â”‚   â”œâ”€ â˜ XÃ³a hoáº¡t Ä‘á»™ng        [DELETE]           âœ—         â”‚
â”‚   â”œâ”€ â˜ Duyá»‡t hoáº¡t Ä‘á»™ng      [APPROVE]          âœ—         â”‚
â”‚   â”œâ”€ â˜ Tá»« chá»‘i hoáº¡t Ä‘á»™ng    [REJECT]           âœ—         â”‚
â”‚   â”œâ”€ â˜ HoÃ n thÃ nh hoáº¡t Ä‘á»™ng [COMPLETE]         âœ—         â”‚
â”‚   â””â”€ â˜ Xuáº¥t bÃ¡o cÃ¡o          [EXPORT]           âœ—         â”‚
â”‚                                                               â”‚
â”‚ â–¼ USER (Quáº£n lÃ½ ngÆ°á»i dÃ¹ng)                 [2/6 quyá»n]   â”‚
â”‚   â”œâ”€ â˜‘ Xem ngÆ°á»i dÃ¹ng        [READ]  Via Role   âœ“         â”‚
â”‚   â”œâ”€ â˜ Táº¡o ngÆ°á»i dÃ¹ng        [CREATE]           âœ—         â”‚
â”‚   â”œâ”€ â˜ Cáº­p nháº­t ngÆ°á»i dÃ¹ng   [UPDATE]           âœ—         â”‚
â”‚   â”œâ”€ â˜ XÃ³a ngÆ°á»i dÃ¹ng        [DELETE]           âœ—         â”‚
â”‚   â”œâ”€ â˜ KhÃ³a tÃ i khoáº£n        [LOCK]             âœ—         â”‚
â”‚   â””â”€ â˜ Má»Ÿ khÃ³a tÃ i khoáº£n     [UNLOCK]           âœ—         â”‚
â”‚                                                               â”‚
â”‚ â–¼ ATTENDANCE (Äiá»ƒm danh)                    [2/4 quyá»n]   â”‚
â”‚   â”œâ”€ â˜‘ QuÃ©t Ä‘iá»ƒm danh        [SCAN]  Via Role   âœ“         â”‚
â”‚   â”œâ”€ â˜‘ Xem Ä‘iá»ƒm danh         [READ]  Via Role   âœ“         â”‚
â”‚   â”œâ”€ â˜ XÃ¡c nháº­n Ä‘iá»ƒm danh    [VERIFY]           âœ—         â”‚
â”‚   â””â”€ â˜ Xuáº¥t bÃ¡o cÃ¡o          [EXPORT]           âœ—         â”‚
â”‚                                                               â”‚
â”‚ â–¶ EVIDENCE (Minh chá»©ng)                     [0/5 quyá»n]   â”‚
â”‚                                                               â”‚
â”‚ â–¶ REPORT (BÃ¡o cÃ¡o)                          [0/3 quyá»n]   â”‚
â”‚                                                               â”‚
â”‚ â–¶ CLASS (Lá»›p há»c)                           [0/7 quyá»n]   â”‚
â”‚                                                               â”‚
â”‚ ... (cÃ²n nhiá»u resource khÃ¡c)                               â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ’¾ LÆ°u thay Ä‘á»•i] [âœ• Há»§y]  (3 thay Ä‘á»•i chÆ°a lÆ°u)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”¢ CÃ¡c Resource (LÄ©nh Vá»±c)

CÃ¡c quyá»n Ä‘Æ°á»£c phÃ¢n thÃ nh nhá»¯ng resource sau:

### 1. **activity** - Quáº£n lÃ½ hoáº¡t Ä‘á»™ng
```
- Xem hoáº¡t Ä‘á»™ng (READ)
- Táº¡o hoáº¡t Ä‘á»™ng (CREATE)
- Cáº­p nháº­t hoáº¡t Ä‘á»™ng (UPDATE)
- XÃ³a hoáº¡t Ä‘á»™ng (DELETE)
- Duyá»‡t hoáº¡t Ä‘á»™ng (APPROVE)
- Tá»« chá»‘i hoáº¡t Ä‘á»™ng (REJECT)
- HoÃ n thÃ nh hoáº¡t Ä‘á»™ng (COMPLETE)
- Xuáº¥t bÃ¡o cÃ¡o (EXPORT)
```

### 2. **user** - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
```
- Xem ngÆ°á»i dÃ¹ng (READ)
- Táº¡o ngÆ°á»i dÃ¹ng (CREATE)
- Cáº­p nháº­t ngÆ°á»i dÃ¹ng (UPDATE)
- XÃ³a ngÆ°á»i dÃ¹ng (DELETE)
- KhÃ³a tÃ i khoáº£n (LOCK)
- Má»Ÿ khÃ³a tÃ i khoáº£n (UNLOCK)
```

### 3. **attendance** - Äiá»ƒm danh
```
- QuÃ©t Ä‘iá»ƒm danh (SCAN)
- Xem Ä‘iá»ƒm danh (READ)
- XÃ¡c nháº­n Ä‘iá»ƒm danh (VERIFY)
- Xuáº¥t bÃ¡o cÃ¡o (EXPORT)
```

### 4. **evidence** - Minh chá»©ng
```
- Ná»™p minh chá»©ng (SUBMIT)
- Xem minh chá»©ng (READ)
- Duyá»‡t minh chá»©ng (APPROVE)
- Tá»« chá»‘i minh chá»©ng (REJECT)
- XÃ³a minh chá»©ng (DELETE)
```

### 5. **report** - BÃ¡o cÃ¡o
```
- Xem tá»•ng quan (VIEW_OVERVIEW)
- Xem chi tiáº¿t (VIEW_DETAIL)
- Xuáº¥t bÃ¡o cÃ¡o (EXPORT)
```

### 6. **class** - Lá»›p há»c
```
- Táº¡o lá»›p (CREATE)
- Xem lá»›p (READ)
- Cáº­p nháº­t lá»›p (UPDATE)
- XÃ³a lá»›p (DELETE)
- Quáº£n lÃ½ sinh viÃªn (MANAGE_STUDENTS)
- Äiá»ƒm danh (ATTENDANCE)
- BÃ¡o cÃ¡o (REPORT)
```

### 7. **pvcd_record** - Äiá»ƒm rÃ¨n luyá»‡n
```
- Táº¡o Ä‘iá»ƒm rÃ¨n luyá»‡n (CREATE)
- Xem Ä‘iá»ƒm rÃ¨n luyá»‡n (READ)
- Cáº­p nháº­t Ä‘iá»ƒm rÃ¨n luyá»‡n (UPDATE)
- XÃ³a Ä‘iá»ƒm rÃ¨n luyá»‡n (DELETE)
- Äiá»u chá»‰nh Ä‘iá»ƒm rÃ¨n luyá»‡n (ADJUST)
```

### 8. **activity_registration** - ÄÄƒng kÃ½ hoáº¡t Ä‘á»™ng
```
- Táº¡o Ä‘Äƒng kÃ½ (CREATE)
- Xem Ä‘Äƒng kÃ½ (READ)
- Duyá»‡t Ä‘Äƒng kÃ½ (APPROVE)
- Tá»« chá»‘i Ä‘Äƒng kÃ½ (REJECT)
- Há»§y Ä‘Äƒng kÃ½ (CANCEL)
```

### 9. **student_feedback** - Pháº£n há»“i sinh viÃªn
```
- Ná»™p pháº£n há»“i (SUBMIT)
- Xem pháº£n há»“i (READ)
- XÃ³a pháº£n há»“i (DELETE)
```

### 10. **student_profile** - Há»“ sÆ¡ sinh viÃªn
```
- Táº¡o há»“ sÆ¡ (CREATE)
- Xem há»“ sÆ¡ (READ)
- Cáº­p nháº­t há»“ sÆ¡ (UPDATE)
- XÃ³a há»“ sÆ¡ (DELETE)
```

### 11. **staff_profile** - Há»“ sÆ¡ cÃ¡n bá»™
```
- Táº¡o há»“ sÆ¡ (CREATE)
- Xem há»“ sÆ¡ (READ)
- Cáº­p nháº­t há»“ sÆ¡ (UPDATE)
- XÃ³a há»“ sÆ¡ (DELETE)
```

### 12. **student_cohort** - Sinh viÃªn theo khÃ³a
```
- Táº¡o liÃªn káº¿t (CREATE)
- Xem liÃªn káº¿t (READ)
- XÃ³a liÃªn káº¿t (DELETE)
```

### 13. **cohort** - KhÃ³a há»c
```
- Táº¡o khÃ³a (CREATE)
- Xem khÃ³a (READ)
- Cáº­p nháº­t khÃ³a (UPDATE)
- XÃ³a khÃ³a (DELETE)
```

### 14. **faculty** - Khoa
```
- Táº¡o khoa (CREATE)
- Xem khoa (READ)
- Cáº­p nháº­t khoa (UPDATE)
- XÃ³a khoa (DELETE)
```

### 15. **org_unit** - ÄÆ¡n vá»‹ tá»• chá»©c
```
- Táº¡o Ä‘Æ¡n vá»‹ (CREATE)
- Xem Ä‘Æ¡n vá»‹ (READ)
- Cáº­p nháº­t Ä‘Æ¡n vá»‹ (UPDATE)
- XÃ³a Ä‘Æ¡n vá»‹ (DELETE)
```

### 16. **field** - LÄ©nh vá»±c
```
- Táº¡o lÄ©nh vá»±c (CREATE)
- Xem lÄ©nh vá»±c (READ)
- Cáº­p nháº­t lÄ©nh vá»±c (UPDATE)
- XÃ³a lÄ©nh vá»±c (DELETE)
```

### 17. **post** - BÃ i Ä‘Äƒng
```
- Táº¡o bÃ i Ä‘Äƒng (CREATE)
- Xem bÃ i Ä‘Äƒng (READ)
- Cáº­p nháº­t bÃ i Ä‘Äƒng (UPDATE)
- XÃ³a bÃ i Ä‘Äƒng (DELETE)
```

### 18. **activity_eligibility** - Äiá»u kiá»‡n tham gia
```
- Táº¡o Ä‘iá»u kiá»‡n (CREATE)
- Xem Ä‘iá»u kiá»‡n (READ)
- Cáº­p nháº­t Ä‘iá»u kiá»‡n (UPDATE)
- XÃ³a Ä‘iá»u kiá»‡n (DELETE)
```

### 19. **notification** - ThÃ´ng bÃ¡o
```
- Táº¡o thÃ´ng bÃ¡o (CREATE)
- Xem thÃ´ng bÃ¡o (READ)
- Cáº­p nháº­t thÃ´ng bÃ¡o (UPDATE)
- XÃ³a thÃ´ng bÃ¡o (DELETE)
```

### 20. **role** - Vai trÃ²
```
- Táº¡o vai trÃ² (CREATE)
- Xem vai trÃ² (READ)
- Cáº­p nháº­t vai trÃ² (UPDATE)
- XÃ³a vai trÃ² (DELETE)
```

### 21. **permission** - PhÃ¢n quyá»n
```
- Táº¡o quyá»n (CREATE)
- Xem quyá»n (READ)
- Cáº­p nháº­t quyá»n (UPDATE)
- XÃ³a quyá»n (DELETE)
```

---

## ğŸ¨ CÃ¡ch Má»—i Quyá»n ÄÆ°á»£c Hiá»ƒn Thá»‹

### Má»—i hÃ ng quyá»n gá»“m:

```
â˜‘ Xem hoáº¡t Ä‘á»™ng    [READ]  Via Role  âœ“ Granted
â”‚  â”‚                â”‚       â”‚        â”‚
â”‚  â”‚                â”‚       â”‚        â””â”€ Tráº¡ng thÃ¡i: âœ“ Granted (cÃ³ quyá»n)
â”‚  â”‚                â”‚       â”‚                      âœ— Denied (khÃ´ng cÃ³)
â”‚  â”‚                â”‚       â””â”€ Badge: "Via Role" (tá»« role)
â”‚  â”‚                â”‚                "âœš Added" (Ä‘Æ°á»£c cáº¥p thÃªm)
â”‚  â”‚                â”‚                "âœ• Removed" (bá»‹ thu há»“i)
â”‚  â”‚                â”‚
â”‚  â”‚                â””â”€ Action code: READ, CREATE, UPDATE, DELETE, etc.
â”‚  â”‚
â”‚  â””â”€ TÃªn chá»©c nÄƒng: "Xem hoáº¡t Ä‘á»™ng" (tiáº¿ng Viá»‡t)
â”‚
â””â”€ Checkbox: â˜‘ (checked/enabled) hoáº·c â˜ (unchecked/disabled)
```

### VÃ­ dá»¥ Chi Tiáº¿t:

**Quyá»n 1: CÃ³ tá»« Role**
```
â˜‘ Xem hoáº¡t Ä‘á»™ng    [READ]  Via Role    âœ“ Granted
- Checkbox: checked (âœ“)
- TÃªn: "Xem hoáº¡t Ä‘á»™ng"
- Code: [READ]
- Badge: "Via Role" (cÃ³ sáºµn tá»« role sinh viÃªn)
- Status: âœ“ (cÃ³ quyá»n)
```

**Quyá»n 2: ÄÆ°á»£c Cáº¥p ThÃªm (Override)**
```
â˜‘ Táº¡o hoáº¡t Ä‘á»™ng    [CREATE]  âœš Added    âœ“ Granted
- Checkbox: checked (âœ“)
- TÃªn: "Táº¡o hoáº¡t Ä‘á»™ng"
- Code: [CREATE]
- Badge: "âœš Added" (Ä‘Æ°á»£c admin cáº¥p thÃªm)
- Status: âœ“ (cÃ³ quyá»n)
```

**Quyá»n 3: Bá»‹ Thu Há»“i (Override)**
```
â˜ Cáº­p nháº­t hoáº¡t Ä‘á»™ng  [UPDATE]  âœ• Removed  âœ— Denied
- Checkbox: unchecked (âœ—)
- TÃªn: "Cáº­p nháº­t hoáº¡t Ä‘á»™ng"
- Code: [UPDATE]
- Badge: "âœ• Removed" (bá»‹ admin thu há»“i)
- Status: âœ— (khÃ´ng cÃ³ quyá»n)
```

**Quyá»n 4: KhÃ´ng CÃ³**
```
â˜ XÃ³a hoáº¡t Ä‘á»™ng    [DELETE]           âœ— Denied
- Checkbox: unchecked (âœ—)
- TÃªn: "XÃ³a hoáº¡t Ä‘á»™ng"
- Code: [DELETE]
- Badge: (khÃ´ng cÃ³ - khÃ´ng tá»« role, khÃ´ng override)
- Status: âœ— (khÃ´ng cÃ³ quyá»n)
```

---

## ğŸ‘¤ VÃ­ Dá»¥ Thá»±c Táº¿: Sinh ViÃªn Tham Gia Tá»• Chá»©c

### TrÆ°á»ng Há»£p: Nguyá»…n VÄƒn A
- Role: **student** (sinh viÃªn)
- Role: **staff** (nhÃ¢n viÃªn tá»• chá»©c)

### Quyá»n sáº½ Ä‘Æ°á»£c **káº¿t há»£p tá»« cáº£ 2 role**:

```
Student Role cÃ³:
â”œâ”€ activity:READ
â”œâ”€ activity_registration:CREATE
â””â”€ evidence:SUBMIT

Staff Role cÃ³:
â”œâ”€ activity:CREATE
â”œâ”€ activity:UPDATE
â”œâ”€ activity:APPROVE
â”œâ”€ evidence:READ
â””â”€ evidence:APPROVE

Káº¿t quáº£ sau khi káº¿t há»£p (UNION):
â”œâ”€ activity:READ         â† tá»« Student
â”œâ”€ activity_registration:CREATE  â† tá»« Student
â”œâ”€ evidence:SUBMIT       â† tá»« Student
â”œâ”€ activity:CREATE       â† tá»« Staff
â”œâ”€ activity:UPDATE       â† tá»« Staff
â”œâ”€ activity:APPROVE      â† tá»« Staff
â”œâ”€ evidence:READ         â† tá»« Staff
â””â”€ evidence:APPROVE      â† tá»« Staff

Admin cÃ³ thá»ƒ:
â”œâ”€ Cáº¥p thÃªm: activity:DELETE (khÃ´ng cÃ³ á»Ÿ role nÃ o)
â””â”€ Thu há»“i: activity:UPDATE (tá»« staff role)
```

---

## ğŸ”„ Khi Cáº¥p/Thu Há»“i Quyá»n

### Cáº¥p ThÃªm Quyá»n:

```
TrÆ°á»›c:
â˜ XÃ³a hoáº¡t Ä‘á»™ng    [DELETE]           âœ— Denied

Admin click checkbox â†’ chuyá»ƒn thÃ nh:
â˜‘ XÃ³a hoáº¡t Ä‘á»™ng    [DELETE]  âœš Added  âœ“ Granted

LÆ°u â†’ System táº¡o override: is_granted = true
```

### Thu Há»“i Quyá»n:

```
TrÆ°á»›c:
â˜‘ Duyá»‡t hoáº¡t Ä‘á»™ng  [APPROVE]  Via Role  âœ“ Granted

Admin click checkbox â†’ chuyá»ƒn thÃ nh:
â˜ Duyá»‡t hoáº¡t Ä‘á»™ng  [APPROVE]  âœ• Removed  âœ— Denied

LÆ°u â†’ System táº¡o override: is_granted = false
```

---

## ğŸ“Š TÃ³m Táº¯t ThÃ´ng Tin

UI sáº½ hiá»ƒn thá»‹:

| ThÃ´ng Tin | Vá»‹ TrÃ­ | Chi Tiáº¿t |
|-----------|--------|---------|
| **User Info** | Top | TÃªn, ID, Roles |
| **Summary** | Under Info | Tá»•ng quyá»n, CÃ³ quyá»n, ÄÃ£ tÃ¹y chá»‰nh |
| **Resources** | Main | Danh sÃ¡ch 20+ resource |
| **Actions** | Má»—i Resource | Danh sÃ¡ch hÃ nh Ä‘á»™ng cá»§a resource |
| **Status** | Má»—i Action | âœ“ Granted hoáº·c âœ— Denied |
| **Source** | Badge | Via Role hoáº·c Override (âœš/âœ•) |
| **Toggle** | Checkbox | Click Ä‘á»ƒ thay Ä‘á»•i |
| **Changes** | Bottom | Counter + LÆ°u/Há»§y button |

---

## ğŸ¯ Sá»‘ LÆ°á»£ng Quyá»n

- **Tá»•ng Actions**: 80-90 quyá»n
- **Resources**: 20+ lÄ©nh vá»±c
- **Actions/Resource**: 3-8 quyá»n má»—i lÄ©nh vá»±c
- **Student Role**: ~15 quyá»n
- **Staff Role**: ~50 quyá»n
- **Admin Role**: ~80 quyá»n

---

## ğŸ’¡ CÃ¡ch Sá»­ Dá»¥ng

1. **Xem**: Má»Ÿ permission panel â†’ chá»n user â†’ báº¥m "Táº£i quyá»n"
2. **Lá»c**: CÃ³ thá»ƒ collapse/expand resource Ä‘á»ƒ xem chi tiáº¿t
3. **Sá»­a**: Click checkbox Ä‘á»ƒ thay Ä‘á»•i tráº¡ng thÃ¡i
4. **LÆ°u**: Báº¥m "ğŸ’¾ LÆ°u thay Ä‘á»•i" Ä‘á»ƒ lÆ°u táº¥t cáº£ thay Ä‘á»•i
5. **Há»§y**: Báº¥m "âœ• Há»§y" náº¿u muá»‘n tá»« bá» thay Ä‘á»•i

---

## âœ… Káº¿t Luáº­n

Quyá»n sáº½ Ä‘Æ°á»£c phÃ¢n chia theo **Resource** (lÄ©nh vá»±c), má»—i resource chá»©a nhiá»u **Action** (hÃ nh Ä‘á»™ng). Má»—i action sáº½ hiá»ƒn thá»‹:
- **TÃªn chá»©c nÄƒng** (Tiáº¿ng Viá»‡t, dá»… hiá»ƒu)
- **MÃ£ hÃ nh Ä‘á»™ng** (Code, ká»¹ thuáº­t)
- **Tráº¡ng thÃ¡i** (CÃ³ hoáº·c KhÃ´ng)
- **Nguá»“n** (Tá»« role hay override)
- **Toggle** (Click Ä‘á»ƒ thay Ä‘á»•i)

Táº¥t cáº£ Ä‘á»u Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ **dá»… sá»­ dá»¥ng** vÃ  **trá»±c quan**! ğŸ‰
