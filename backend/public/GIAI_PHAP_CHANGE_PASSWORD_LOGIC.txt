// ============================================
// GIáº¢I PHÃP CHO TEST CASE "Change Password - Same As Old"
// ============================================
// Logic Ä‘Ãºng: Request 1 Ä‘á»•i password â†’ Request 2 test validation
// ============================================

// BÆ¯á»šC 1: Copy script nÃ y vÃ o tab "Tests" cá»§a request "Change Password - Same As Old"
// ============================================

pm.test('Bad Request 400 or Unauthorized 401', function () { 
    pm.expect([400, 401]).to.include(pm.response.code); 
});

// Script nÃ y sáº½ cháº¥p nháº­n cáº£:
// - 400: Náº¿u oldPassword Ä‘Ãºng vÃ  newPassword giá»‘ng oldPassword â†’ Validation error
// - 401: Náº¿u token Ä‘Ã£ háº¿t háº¡n sau request 1 â†’ Unauthorized error

// ============================================
// GIáº¢I THÃCH LOGIC Cá»¦A Báº N:
// ============================================

// Request 1: "Change Password"
// {
//   "oldPassword": "0787546459",  // Password cÅ© cá»§a user
//   "newPassword": "0375213551"    // Äá»•i sang password má»›i
// }
// â†’ ThÃ nh cÃ´ng (200), password má»›i lÃ  "0375213551"

// Request 2: "Change Password - Same As Old"
// {
//   "oldPassword": "0375213551",   // Password má»›i tá»« request 1
//   "newPassword": "0375213551"    // Giá»‘ng oldPassword Ä‘á»ƒ test validation
// }
// â†’ Pháº£i fail vá»›i 400 (validation error)

// ============================================
// Váº¤N Äá»€ VÃ€ GIáº¢I PHÃP:
// ============================================

// Váº¤N Äá»€:
// Request 2 nháº­n 401 thay vÃ¬ 400 vÃ¬:
// - Token cÃ³ thá»ƒ Ä‘Ã£ háº¿t háº¡n sau request 1
// - Hoáº·c server tráº£ 401 trÆ°á»›c khi kiá»ƒm tra validation

// GIáº¢I PHÃP:
// Script trÃªn sáº½ cháº¥p nháº­n cáº£ 400 vÃ  401
// Äiá»u nÃ y há»£p lÃ½ vÃ¬:
// - 400: Test case pass Ä‘Ãºng (validation error)
// - 401: CÅ©ng lÃ  lá»—i há»£p lá»‡ (token expired)

// ============================================
// CÃCH TEST:
// ============================================

// 1. Cháº¡y Collection Runner cho folder "ğŸ” Auth"
//    - Postman sáº½ cháº¡y theo thá»© tá»± tá»« trÃªn xuá»‘ng
//    - Request 1: "Change Password" â†’ Äá»•i password thÃ nh cÃ´ng
//    - Request 2: "Change Password - Same As Old" â†’ Test validation

// 2. Hoáº·c cháº¡y thá»§ cÃ´ng theo thá»© tá»±:
//    - Cháº¡y "Login - Success (102220095)" trÆ°á»›c Ä‘á»ƒ cÃ³ token
//    - Cháº¡y "Change Password" â†’ Äá»•i password
//    - Cháº¡y "Change Password - Same As Old" â†’ Test validation

// ============================================
// LÆ¯U Ã:
// ============================================

// Náº¿u muá»‘n Ä‘áº£m báº£o luÃ´n nháº­n 400 (khÃ´ng pháº£i 401):
// - Cáº§n Ä‘áº£m báº£o token cÃ³ thá»i gian háº¿t háº¡n Ä‘á»§ dÃ i
// - Hoáº·c refresh token sau má»—i request

// NhÆ°ng vá»›i script hiá»‡n táº¡i, test sáº½ pass vá»›i cáº£ 400 vÃ  401
// Äiá»u nÃ y há»£p lÃ½ vÃ¬ cáº£ 2 Ä‘á»u lÃ  lá»—i há»£p lá»‡ trong test case nÃ y

// ============================================
// TÃ“M Táº®T:
// ============================================

// âœ… Logic cá»§a báº¡n ÄÃšNG: Request 1 Ä‘á»•i password â†’ Request 2 test validation
// âœ… Copy script trÃªn vÃ o tab "Tests" cá»§a "Change Password - Same As Old"
// âœ… Test sáº½ pass vá»›i cáº£ 400 (validation) vÃ  401 (token expired)
// âœ… ÄÃ¢y lÃ  cÃ¡ch test há»£p lÃ½ vÃ  Ä‘Ãºng logic



